# InventCount - 棚卸しPWAアプリ

---

## 概要

**InventCount**は、現場の棚卸し作業を効率化するためのPWA（Progressive Web App）型在庫カウントアプリです。  
スマートフォンやタブレットのカメラでJANコード（バーコード）を読み取り、数量・単位入力、商品マスタ照合、CSV出力、オフライン動作など、現場で本当に使える機能をすべて搭載しています。

---

## 主な特徴

- **PWA対応**：iOS/Android/PCすべてでインストール不要、ホーム画面追加、オフライン利用可
- **バーコード（JANコード）カメラ読み取り**：html5-qrcodeによる高速スキャン
- **数量・単位入力のUX最適化**：数量未入力時は自動で「1」、入力時は初期値「1」を自動消去
- **商品マスタ連携**：JAN入力時やスキャン時に商品名を自動表示
- **ダークモード完全対応**：現場の照明環境でも見やすい配色
- **登録・修正・削除・CSV出力**：現場で必要なすべての棚卸し機能を搭載
- **音声・視覚フィードバック**：登録・スキャン時の音やハイライトでミス防止
- **現場UX重視**：カメラボタンや登録ボタンは大きく、タッチ操作しやすい
- **バージョン管理・更新通知**：アプリのバージョン表示と更新チェック機能

---

## デモ・利用方法

- [https://seiumiyata.github.io/invent/](https://seiumiyata.github.io/invent/) にアクセス
- スマホなら「ホーム画面に追加」でPWAとして利用可能
- オフラインでも全機能が利用できます

---

## ファイル構成

/invent/
├─ index.html
├─ app.js
├─ manifest.json
├─ sw.js
├─ html5-qrcode.min.js
├─ icon-192.png
├─ icon-512.png


---

## 主な画面・機能

### 1. 登録画面
- **カメラでJAN読み取り**（スキャン時にJAN欄に即反映＆ハイライト）
- **数量・単位入力**（数量未入力時は自動で1、入力時は初期値1が消える）
- **商品名自動表示**（商品マスタに該当があれば即表示）
- **登録ボタン**（大きく押しやすい）
- **登録済み一覧表示・個別削除**

### 2. 修正画面
- 登録済みデータの数量・単位修正

### 3. 出力画面
- CSV形式でのデータ出力
- 出力後のデータ削除選択

### 4. 削除画面
- 全件削除・選択削除

### 5. マスタ取込画面
- 商品マスタCSVファイルのインポート（JAN,商品名,単価,カテゴリ,備考）

---

## オフライン対応

- Service Workerによる完全オフライン動作
- html5-qrcode.min.jsもローカルキャッシュ
- IndexedDBでデータ永続化

---

## ダークモード対応

- ダークモード時はラベル・入力欄・単位ボタンなどの配色を自動で調整
- 現場の暗い環境でも視認性抜群

---

## バージョン管理・更新通知

- フッターにバージョン情報を常時表示
- バージョン情報クリックで更新チェック
- 長押しでシステム情報を表示（デバッグ用）

---

## インストール・セットアップ

1. ファイル一式を `/invent/` ディレクトリに配置（GitHub Pages推奨）
2. `html5-qrcode.min.js`は[公式GitHub](https://github.com/mebjas/html5-qrcode/releases)からダウンロードして設置
3. `icon-192.png`・`icon-512.png`はPWA用に用意
4. `manifest.json`・`sw.js`も必ず配置

---

## CSVフォーマット例

**出力項目：**  
JAN, 商品名, 数量, 単位, 実数量, 登録日時

---

## よくある質問

**Q. オフラインで本当に動きますか？**  
A. はい。Service WorkerとIndexedDBで完全にオフライン動作します。

**Q. ダークモード対応ですか？**  
A. はい。自動で配色が切り替わります。

**Q. 商品マスタが無いJANも登録できますか？**  
A. はい。JANのみでも登録でき、「商品マスタ未登録」と表示されます。

**Q. バージョンアップ時のキャッシュは自動で切り替わりますか？**  
A. はい。Service Workerでキャッシュ名にバージョンを含めて管理しています。

---

## ライセンス

MIT  
html5-qrcodeは[公式リポジトリ](https://github.com/mebjas/html5-qrcode)のライセンスに従ってください。

---

## サポート・問い合わせ

- バグ報告・機能要望はGitHub Issueまたはメールでご連絡ください。
- 現場運用・追加カスタマイズもご相談可能です。

---

**現場で本当に使える棚卸しPWAアプリ。  
ぜひご活用ください！**
